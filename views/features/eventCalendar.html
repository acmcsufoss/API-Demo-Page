<!DOCTYPE html>

<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4bw+/aepP/YC94hEpVNVgiZdgIC5+VKNBQNGCHeKRQN+PtmoHDEXuppvnDJzQIu9" crossorigin="anonymous">
    <link rel="stylesheet" href="styleAnnouncementEvent.css">
    <title>Event Calendar</title>
</head>
<body>
    <h1>Event Calendar</h1>
    <div class = "calendar">
        <div class="month">
            <p id="monthHeader"></p>
            <script>
                const now = new Date();
                const months = [
                    "January", "February", "March",
                    "April", "May", "June", "July",
                    "August", "September", "October",
                    "November", "December"
                ];
                let currentMonth = now.getMonth();
                let currentYear = now.getFullYear();
                document.getElementById("monthHeader").innerHTML = `<h2>${months[currentMonth]} ${currentYear}</h2>`;
                function nextprev(n) {
                    if (n == 1){
                        currentMonth += 1;
                    }
                    else{
                        currentMonth -= 1;
                    }
                    if (currentMonth >= 12 || currentMonth < 0) {
                        if (currentMonth >= 12) {
                            currentMonth = 0;
                        } else if (currentMonth < 0){
                            currentMonth = 11;
                        }
                        if (n == 1) {
                            currentYear += 1;
                        } else {
                            currentYear -= 1;
                        }
                    }
                    document.getElementById("monthHeader").innerHTML = `<h2>${months[currentMonth]} ${currentYear}</h2>`
                    loadCalendar()
                }
            </script>
        </div>
        <div class = "buttons">
            <button class="left" onclick="nextprev(0)">&#10094;</button>
            <button class="right" onclick = "nextprev(1)">&#10095;</button>
        </div>
        <div class = "days">
            <div class = "dayBox">
                <p class = "day">Sunday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Monday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Tuesday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Wednesday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Thursday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Friday</p>
            </div>
            <div class = "dayBox">
                <p class = "day">Saturday</p>
            </div>
        </div>
        <div class = "cellBox">
            <div class = "cell" id = "0"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "1"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "2"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "3"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "4"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "5"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "6"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "10"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "11"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "12"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "13"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "14"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "15"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "16"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "20"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "21"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "22"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "23"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "24"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "25"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "26"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "30"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "31"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "32"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "33"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "34"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "35"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "36"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "40"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "41"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "42"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "43"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "44"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "45"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "46"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "50"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "51"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "52"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "53"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "54"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "55"><h2 class = "dayText"></h2></div>
            <div class = "cell" id = "56"><h2 class = "dayText"></h2></div>
            <script>
                function loadCalendar() {
                    let startOfMonth = new Date(currentYear, currentMonth, 1).getDay();
                    let numOfDays = new Date(currentYear, currentMonth + 1, 0).getDate();
                    //cleanup
                    day = 0;
                    w = 0;
                    for (e = 0; e < 42; e++) {
                        const outer = document.getElementById(day.toString());
                        if (outer) {
                            const dateVal = outer.querySelector(".dayText");
                            dateVal.textContent = "";
                        }
                        day++;
                        if (day - w > 6) {
                            w += 10;
                            day = w;
                        }
                    }
                    //cleanup
                    day = startOfMonth;
                    w = 0
                    for (i = 1; i <= numOfDays; ++i){
                        if (day - w == 0) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText");
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 1) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 2) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 3) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 4) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 5) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        else if (day - w == 6) {
                            const outer = document.getElementById(day.toString());
                            if (outer) {
                                const dateVal = outer.querySelector(".dayText")
                                dateVal.textContent = i;
                            }
                        }
                        day += 1
                        if (day - w > 6) {
                            w += 10;
                            day = w;
                        }
                    }
                }
                loadCalendar()
            </script>
        </div>
    </div>
</body>
<style>
    .main{
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;

    }
    h1{
        font-size: 45px;
        font-family: Arial, Helvetica, sans-serif;
        background-color: lightgray;
        text-align: center;
        padding: 20px;
        border-style: solid;
    }
    .calendar{
        display: flex;
        flex-direction: column;
        align-items: center;
        position: relative;
        width: 45rem;
        height: 65rem;
        left: 30%;
        border: 2px solid black;
    }
    .month{
        position: relative;
        width: 45rem;
        height: 10rem;
        border: 2px solid black;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
    }
    .monthHeader{
        position: relative;
        font-family: Arial, Helvetica, sans-serif;
        background-color: lightgray;
        text-align: center;
        border-style: solid;
    }
    .days{
        display: flex;
        justify-content: space-around;
        position:relative;
        height: 2.5rem;
        width: 45rem;
        border: 2px solid black;

    }
    .dayBox{
        position :relative;
        width: 6.4285714285714285714285714285714rem;
        border: 2px solid black;
    }
    .cellBox{
        position:relative;
        display: grid;
        grid-template-columns: repeat(7, 1fr);
        grid-template-rows: repeat(6, 1fr);
        gap: 0px;
        width: 45rem;
        height: 52.5rem;
        border: 2px solid black;
    }
    .cell{
        display:flex;
        position: relative;
        justify-content: center;
        align-items: center;
        height: 8.75rem;
        width: 6.3285714285714285714285714285714rem;
        border: 2px solid black;
    }
    .dayText{
        position: absolute;
        top: 10px;
        right: 10px;
    }
</style>